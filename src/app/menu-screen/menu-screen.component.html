@if (topicsLoadingState$ | async; as state) {
  @switch (state.type) {
    @case ("loading") {
      <app-loading-screen
        phrase="Sorry, but the application API is located on a free hosting and the first load may take about a minute."
      />
    }
    @case ("error") {
      <!-- TODO: add error handling -->
      <!-- Error: {{ state.error.message }} -->
    }
    @case ("loaded") {
      @let topics = state.data;

      <header>
        <h2>ТЕМА:</h2>
      </header>
      <main>
        @for (topic of topics; track $index) {
          <label class="app-button gray">
            <input
              #input
              type="radio"
              name="topic"
              (change)="selectedTopic = topic.name"
            />
            <span>{{ topic.name }}</span> <span>{{ topic.questionCount }}</span>
          </label>
        }
        <a
          class="app-button yellow"
          [routerLink]="selectedTopic ? '/quiz' : null"
          [state]="{ quizParams: { topic: selectedTopic, questionsCount: 10 } }"
          >НАЧАТЬ ТЕСТ</a
        >
      </main>

      <footer>
        <!-- TODO: add Settings and About -->
      </footer>
    }
  }
}
